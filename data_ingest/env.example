# -------------------------------
# data_ingest – Environment Example
# -------------------------------
# 복사하여 `.env` 또는 환경변수로 설정하세요.

# --------------------
# Database & Storage
# --------------------
PG_CONN_STR=postgresql://postgres:postgres@localhost:5432/postgres
# Supabase requires SSL – set to "require" or leave blank for local.
PG_SSL_MODE=require

# --------------------
# OpenAI API
# --------------------
# 데이터 업로드·요약 등에 사용
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Vector Store ID (없으면 생성)
OPENAI_VECTOR_STORE_ID=lvlup-core
# Vector Store 파일 TTL 일수 (미사용 60일 후 삭제)
VECTOR_STORE_TTL_DAYS=60

# ChatCompletion 모델 (요약·품질 점수 LLM 호출)
OPENAI_CHAT_MODEL=gpt-4o-mini

# --------------------
# Quality Score
# --------------------
QUALITY_WEIGHT_KEYWORD=0.4
QUALITY_WEIGHT_NOVELTY=0.3
QUALITY_WEIGHT_LENGTH=0.2
QUALITY_WEIGHT_LLM=0.1
MIN_QUALITY_SCORE=0.75

# --------------------
# Logging & Monitoring
# --------------------
LOG_LEVEL=INFO
METRICS_PORT=8000

# --------------------
# Ingest Daemon (optional)
# --------------------
# 처리할 소스 CSV (비워두면 lol_patch,pubg_patch,namu_wiki)
# INGEST_SOURCES=lol_patch,pubg_patch,namu_wiki
# Sweep 주기(초)
# INGEST_LOOP_INTERVAL=300
# 소스별 최대 처리 레코드 수
# INGEST_LIMIT=1000
# 동시 embedding 작업 수
# INGEST_PARALLEL=4
# DB fetch batch size
# INGEST_BATCH_SIZE=100
# Dry-run (log only)
# INGEST_DRY_RUN=true

# --------------------
# Slack Webhook (Error Alerts)
# --------------------
SLACK_WEBHOOK_ALERT_DATA_INGESTOR_ERR=

# --------------------
# Sentry (optional)
# --------------------
SENTRY_DSN=
ENVIRONMENT=local

# --------------------
# Cache / External Services (optional)
# --------------------
REDIS_URL=redis://localhost:6379/0
XDG_CACHE_HOME=~/.cache

# --------------------
# Keyword Filter YAML
# --------------------
KEYWORD_FILE=/etc/keywords.yaml

# --------------------
# Data Source Configs
# --------------------
LOL_PATCH_INDEX_URL=https://www.leagueoflegends.com/ko-kr/news/tags/patch-notes/
NAMU_TITLES=리그 오브 레전드,배틀그라운드
REDDIT_SUBS=leagueoflegends,PUBG 

# --------------------
# Chunking & Embedding
# --------------------
CHUNK_SIZE=220
CHUNK_OVERLAP_RATIO=0.5
EMBED_BATCH_SIZE=16
EMBEDDING_MODEL=text-embedding-3-small

# --------------------
# HTTP Fetcher
# --------------------
USER_AGENT=data-ingest-bot/1.0
HTTP_TIMEOUT=30
HTTP_MAX_RETRIES=3
HTTP_CONCURRENCY=10

# --------------------
# Stopword / Keyword Filter
# --------------------
STOPWORD_FILE= 